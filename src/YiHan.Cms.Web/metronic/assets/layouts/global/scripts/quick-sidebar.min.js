var QuickSidebar = function () { var a = function () { var a = $(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler"); a.on("click", function () { $("body").toggleClass("page-quick-sidebar-open") }) }, i = function (a) { var i = $(".page-quick-sidebar-wrapper"), t = i.find(".page-quick-sidebar-chat"), e = function (a, i) { if (!a.attr("data-initialized")) { var t; t = a.attr("data-height") ? a.attr("data-height") : a.css("height"); var e = a.slimScroll({ allowPageScroll: !0, size: "7px", color: a.attr("data-handle-color") ? a.attr("data-handle-color") : "#bbb", wrapperClass: a.attr("data-wrapper-class") ? a.attr("data-wrapper-class") : "slimScrollDiv", railColor: a.attr("data-rail-color") ? a.attr("data-rail-color") : "#eaeaea", position: App.isRTL() ? "left" : "right", height: t, alwaysVisible: "1" == a.attr("data-always-visible") ? !0 : !1, railVisible: "1" == a.attr("data-rail-visible") ? !0 : !1, disableFadeOut: !0 }); a.attr("data-initialized", "1"), i && e.bind("slimscrolling", i) } }, r = function (a) { var r, l = i.find(".page-quick-sidebar-chat-users"); r = i.height() - i.find(".nav-tabs").outerHeight(!0), App.destroySlimScroll(l), l.attr("data-height", r), App.initSlimScroll(l); var s = t.find(".page-quick-sidebar-chat-user-messages"), d = r - t.find(".page-quick-sidebar-chat-user-form").outerHeight(!0); d = d - t.find(".page-quick-sidebar-nav").outerHeight(!0) - t.find(".selected-chat-user").outerHeight(!0), App.destroySlimScroll(s), s.attr("data-height", d), e(s, a) }; r(a), App.addResizeHandler(r), i.find(".page-quick-sidebar-chat-users").on("click", ".media-list > .media", function () { t.addClass("page-quick-sidebar-content-item-shown") }); var l = i.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list"); l.on("click", function () { t.removeClass("page-quick-sidebar-content-item-shown") }) }; return { init: function (t) { a(), i(t) }, handleQuickSidebarChat: function (a) { i(a) } } }();